package GUI.project;

import javafx.scene.control.TextArea;
import java.io.File;
import javafx.scene.layout.VBox;
import java.io.FileNotFoundException;
import java.util.*;  
import javafx.stage.FileChooser;
import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.HBox;
import javafx.stage.Stage;
import javafx.scene.control.*; 

public class addGradePopUp {

	public addGradePopUp(Stage newStage, Stage sameStage,String message,List<Score> update, ScoreList score, String command, int size, ListView l,int numberDelted) {

		GUImain gui = new GUImain();
		
			BorderPane bp = new BorderPane();
	        HBox hBox = new HBox();
	        HBox hBox2 = new HBox();
	        VBox vBox = new VBox();
	        VBox vBox2 = new VBox();
	        
	        double number = (double) l.getItems().get(numberDelted); //get the value of the list and print it out
	        	
			 
	        Label enterGrade = new Label(message + "");
	        enterGrade.setTranslateY(15);
	        enterGrade.setTranslateX(5);
	        enterGrade.setStyle("-fx-font: 16 arial;");
	        
	        TextField grade = new TextField();
	        grade.setTranslateX(30);
	        grade.setTranslateY(10);
	        grade.setMaxSize(200,20);
	        
	        Label showGrade = new Label(Double.toString(number));
	        showGrade.setTranslateX(40);
	        showGrade.setTranslateY(5);
	        showGrade.setStyle("-fx-font: 30 arial;");
	        
	        
	        Button ok = new Button("OKAY");
	        if(command.equals("Add")) {
		        ok.setOnAction(e->{
		        	score.add(Double.parseDouble(grade.getText()));
		        	
		        	Stage cancleStage = (Stage) ok.getScene().getWindow(); //closes window add window
		        	cancleStage.close();
		        	
		        	gui.start(sameStage,score.getList(),score);        
		        });
	        }
	        else if(command.equals("Delete")) {
	        	ok.setOnAction(e->{
	        		score.delete(numberDelted);
	        		
		        	Stage cancleStage = (Stage) ok.getScene().getWindow(); //closes window add window
		        	cancleStage.close();
		        	
		        	gui.start(sameStage,score.getList(),score);     
	        	});
	        }
	        
	        
	        ok.setTranslateX(110);
	        ok.setTranslateY(20);
	        ok.setMinWidth(50);
	        
	        Button cancle = new Button("CANCLE");
			cancle.setOnAction(e ->{
	        	Stage cancleStage = (Stage) cancle.getScene().getWindow();
	        	cancleStage.close();
		     });
	        cancle.setTranslateX(130);
	        cancle.setTranslateY(20);
	        cancle.setMinWidth(50);
	        
			if(command.equals("Add")) {
				System.out.println("hello");
			        
		        hBox.getChildren().addAll(enterGrade, grade);
		        hBox2.getChildren().addAll(ok, cancle);
		
		        vBox.getChildren().addAll(hBox, hBox2);
		                
		        Scene scene = new Scene(vBox, size, 100);
		    	//Scene scene = new Scene(vBox, 600,200);
		        newStage.setScene(scene);
		        newStage.show();
			}
			else if(command.equals("Delete")){
		        hBox.getChildren().addAll(enterGrade, showGrade);
		        hBox2.getChildren().addAll(ok, cancle);
		
		        vBox.getChildren().addAll(hBox, hBox2);
		                
		        Scene scene = new Scene(vBox, size, 100);
		    	//Scene scene = new Scene(vBox, 600,200);
		        newStage.setScene(scene);
		        newStage.show();
		
			}
		}
}
